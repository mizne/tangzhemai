<!--
  Generated template for the StatisticsManage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
    <ion-navbar>
      <ion-title>统计</ion-title>
    </ion-navbar>
  
    <ion-toolbar no-border-top>
      <ion-segment [(ngModel)]="dateType" (ionChange)="segmentChanged($event)">
        <ion-segment-button value="今日">
          今日
        </ion-segment-button>
        <!-- <ion-segment-button value="本周">
          本周
        </ion-segment-button> -->
        <ion-segment-button value="本月">
          本月
        </ion-segment-button>
        <ion-segment-button value="本年">
          本年
        </ion-segment-button>
      </ion-segment>
    </ion-toolbar>
  </ion-header>
  
  
  <ion-content padding>
    <div class="chart-area">
      <ion-slides pager>
        <ion-slide *ngFor="let chartType of chartTypes">
          <div [ngSwitch]="dateType">
            <div *ngSwitchCase="'今日'">
              <canvas baseChart width="400" height="300" 
              [datasets]="todayChartData" [labels]="todayChartLabels" 
              [options]="barChartOptions" [legend]="barChartLegend"
                [chartType]="chartType"></canvas>
            </div>
  
            <div *ngSwitchCase="'本月'">
              <canvas baseChart width="400" height="300" 
              [datasets]="monthChartData" [labels]="monthChartLabels" 
              [options]="barChartOptions" [legend]="barChartLegend"
                [chartType]="chartType"></canvas>
            </div>
  
            <div *ngSwitchCase="'本年'">
              <canvas baseChart width="400" height="300" 
              [datasets]="yearChartData" [labels]="yearChartLabels" 
              [options]="barChartOptions" [legend]="barChartLegend"
                [chartType]="chartType"></canvas>
            </div>
          </div>
        </ion-slide>
      </ion-slides>
    </div>
  
     <ion-list class="statistics-list">
      <ion-item *ngFor="let item of gridStatistics">
        <ion-icon [name]="item.icon" item-start></ion-icon>
        <span>{{item.label}}</span>
        <span>{{item.value[dateType] + ' ' + item.unit}}</span>
      </ion-item>
    </ion-list> 
  </ion-content>